# Интеллектуальный генератор микроразметки Schema.org

Приложение на Flask для создания персонализированной микроразметки Schema.org с использованием технологии веб-поиска OpenAI. Система анализирует содержимое сайта в реальном времени и создает микроразметку, основанную на фактических данных.

![Schema.org Generator](https://schema.org/docs/schemaorg.png)

## Возможности

- **Анализ содержимого сайта в реальном времени** через технологию веб-поиска OpenAI
- **Извлечение реальных данных** с сайта для создания персонализированной микроразметки
- **10 типов микроразметки**: контакты, товары, статьи, FAQ, события и др.
- **Визуализация процесса анализа** с отображением прогресса в реальном времени
- **WebSocket коммуникация** для обновления статуса без перезагрузки страницы
- **Подсветка синтаксиса** для сгенерированного JSON-LD кода
- **Асинхронная обработка** для быстрого отклика интерфейса

## Технологии

- **Backend**: Python, Flask, SocketIO, Asyncio
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 5
- **API**: OpenAI API с поддержкой веб-поиска (gpt-4o-search-preview)
- **Инструменты**: WebSockets, Highlight.js, аккордеоны Bootstrap

## Как это работает

1. **Ввод URL**: пользователь указывает адрес сайта и выбирает тип микроразметки
2. **Анализ сайта**: система использует модель OpenAI с веб-поиском для посещения сайта и извлечения данных
3. **Обработка данных**: извлеченные данные структурируются согласно стандартам Schema.org
4. **Генерация кода**: создается готовый к использованию JSON-LD код
5. **Валидация**: сгенерированный код оптимизируется и проверяется на соответствие стандартам

## Поддерживаемые типы микроразметки

- **Контактные данные** (LocalBusiness) - контактная информация, адрес, часы работы
- **Карточка товара** (Product) - название, описание, цена, наличие, изображения
- **Каталог товаров** (ProductCollection) - категории товаров, ценовые диапазоны
- **Хлебные крошки** (BreadcrumbList) - навигационная цепочка сайта
- **Форма поиска** (WebSite) - поисковое взаимодействие
- **Логотип** (Organization) - фирменная символика
- **FAQ** (FAQPage) - часто задаваемые вопросы и ответы
- **Статья** (Article) - контент, автор, даты публикации
- **Событие** (Event) - дата, время, место проведения
- **Организация** (Organization) - информация о компании

## Установка и запуск

### Требования
- Python 3.8+
- OpenAI API ключ с доступом к моделям с поддержкой веб-поиска
- Pip (менеджер пакетов Python)

### Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/schema-generator.git
cd schema-generator
```

2. Создайте и активируйте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` и добавьте ваш OpenAI API ключ:
```
OPENAI_API_KEY=your_api_key_here
FLASK_SECRET_KEY=your_secret_key_here
```

### Запуск

```bash
python app.py
```

Приложение будет доступно по адресу http://localhost:5000

## Структура проекта

```
schema-generator/
├── app.py                   # Основной файл приложения
├── .env                     # Файл с переменными окружения (не отслеживается Git)
├── .env.example             # Пример файла с переменными окружения
├── requirements.txt         # Зависимости проекта
├── static/                  # Статические файлы
│   └── css/
│       └── styles.css       # Стили приложения
│
└── templates/               # HTML шаблоны
    ├── index.html           # Главная страница с формой
    ├── waiting.html         # Страница ожидания с индикаторами прогресса
    └── result.html          # Страница с результатами генерации
```

## Примечания по использованию

- Технология веб-поиска потребляет больше токенов API, учитывайте это при использовании
- Время анализа сайта может варьироваться от 10 секунд до нескольких минут в зависимости от объема контента
- Для наилучших результатов указывайте URL конкретной страницы для соответствующего типа микроразметки (например, URL товара для Product)
- Сгенерированный код рекомендуется проверять через [валидатор Schema.org](https://validator.schema.org/)

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл LICENSE для получения дополнительной информации.

## Признательность

- [OpenAI](https://openai.com/) за предоставление моделей с поддержкой веб-поиска
- [Schema.org](https://schema.org/) за стандартизацию семантической разметки
- [Flask](https://flask.palletsprojects.com/) за легкий и мощный веб-фреймворк
- [Socket.IO](https://socket.io/) за двустороннюю связь в реальном времени