<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ - Schema.org</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <!-- Highlight.js –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/json.min.js"></script>
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
<div class="container">
  <h1 class="mb-4 text-center">
    <i class="bi bi-code-square schema-icon"></i>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞
  </h1>
  
  <div class="alert alert-info">
    <i class="bi bi-info-circle-fill me-2"></i>
    <strong>iSEO Schema Generator:</strong> –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è SEO-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, —Å–æ–∑–¥–∞—é—â–∏–π –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ <u>–∞–Ω–∞–ª–∏–∑–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∞–π—Ç–∞</u>. –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ –±–ª–æ–∫–∏ –∫–æ–¥–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏ —Å–∞–π—Ç–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –ø–æ–∏—Å–∫–æ–≤–æ–π –≤—ã–¥–∞—á–µ.
  </div>
  
  <div class="url-display">
    <i class="bi bi-link-45deg me-2"></i>URL: <strong>{{ url }}</strong>
  </div>
  
  <div class="accordion" id="schemaAccordion">
    {% for key, code in generated_code.items() %}
      <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{ loop.index }}">
          <button class="accordion-button {% if not loop.first %}collapsed{% endif %}" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ loop.index }}" aria-expanded="{% if loop.first %}true{% else %}false{% endif %}" aria-controls="collapse{{ loop.index }}">
            {{ key }}
            <span class="schema-type-badge">Schema.org</span>
            <span class="badge bg-success ms-2"><i class="bi bi-robot"></i> –ò–ò-–∞–Ω–∞–ª–∏–∑</span>
          </button>
        </h2>
        <div id="collapse{{ loop.index }}" class="accordion-collapse collapse {% if loop.first %}show{% endif %}" aria-labelledby="heading{{ loop.index }}" data-bs-parent="#schemaAccordion">
          <div class="accordion-body p-0">
            <div class="code-block">
              <div class="code-header">
                <h5 class="code-title">
                  <i class="bi bi-code-slash me-2"></i>JSON-LD –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞
                </h5>
                <button class="btn btn-sm btn-outline-secondary copy-btn" data-code-id="code{{ loop.index }}">
                  <i class="bi bi-clipboard"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                </button>
              </div>
              <pre><code class="language-html" id="code{{ loop.index }}">{{ code | e }}</code></pre>
            </div>
            
            <!-- –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–Ω–∏–ø–ø–µ—Ç–∞ -->
            <div class="snippet-preview my-3 p-3 border-top">
              <h6 class="snippet-preview-title mb-3">
                <i class="bi bi-eye me-2"></i>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä Rich Snippets:
                <span class="badge bg-info ms-2">Google</span>
              </h6>
              <div class="snippet-container p-3 border rounded bg-white" id="snippet{{ loop.index }}">
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–Ω–∏–ø–ø–µ—Ç–∞ -->
                {% if key == "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">{{ domain }} - –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div><i class="bi bi-geo-alt text-secondary me-1"></i> –ê–¥—Ä–µ—Å: <span class="snippet-address">–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123</span></div>
                      <div><i class="bi bi-telephone text-secondary me-1"></i> –¢–µ–ª–µ—Ñ–æ–Ω: <span class="snippet-phone">+7 (XXX) XXX-XX-XX</span></div>
                      <div><i class="bi bi-clock text-secondary me-1"></i> –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: <span class="snippet-hours">–ü–Ω-–ü—Ç: 9:00-18:00</span></div>
                    </div>
                  </div>
                {% elif key == "–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ - {{ domain }}</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div class="d-flex align-items-center mb-1">
                        <div class="snippet-rating">
                          <span class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        </div>
                        <span class="snippet-reviews ms-1">(123 –æ—Ç–∑—ã–≤–∞)</span>
                        <span class="snippet-price ms-2 fw-bold">15 990 ‚ÇΩ</span>
                      </div>
                      <div>–í –Ω–∞–ª–∏—á–∏–∏ ¬∑ –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</div>
                    </div>
                  </div>
                {% elif key == "–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ - {{ domain }}</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div class="d-flex align-items-center mb-1">
                        <div class="snippet-rating">
                          <span class="text-warning">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        </div>
                        <span class="snippet-reviews ms-1">(324 –æ—Ç–∑—ã–≤–∞)</span>
                      </div>
                      <div>–¶–µ–Ω—ã: <span class="fw-bold">–æ—Ç 5 000 ‚ÇΩ –¥–æ 150 000 ‚ÇΩ</span> ¬∑ 125 —Ç–æ–≤–∞—Ä–æ–≤</div>
                    </div>
                  </div>
                {% elif key == "FAQ" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã - {{ domain }}</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div class="snippet-faq">
                        <div class="faq-item mb-2">
                          <div class="fw-bold">–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑?</div>
                          <div>–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ —Å–ª–µ–¥—É–π—Ç–µ...</div>
                        </div>
                        <div class="faq-item">
                          <div class="fw-bold">–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –≤—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ?</div>
                          <div>–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∫—É—Ä—å–µ—Ä—Å–∫—É—é –¥–æ—Å—Ç–∞–≤–∫—É, —Å–∞–º–æ–≤—ã–≤–æ–∑ –∏–∑ –Ω–∞—à–∏—Ö...</div>
                        </div>
                      </div>
                    </div>
                  </div>
                {% elif key == "QA —Å—Ç—Ä–∞–Ω–∏—Ü–∞" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">{{ domain }} - –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div class="fw-bold mb-1">–¢–æ–≤–∞—Ä—ã</div>
                      <div class="mb-1">‚≠ê –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ üíé –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏ üíé –í—ã–≥–æ–¥–Ω–∞—è –±–æ–Ω—É—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
                      <div class="text-secondary small">
                        <span>26 —á–µ–ª–æ–≤–µ–∫ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–º</span>
                        <span class="ms-3">–û—Ç–≤–µ—Ç–æ–≤: 1</span>
                      </div>
                    </div>
                  </div>
                {% elif key == "–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏" %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã - {{ domain }}</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      <div class="breadcrumbs small text-secondary">
                        –ì–ª–∞–≤–Ω–∞—è > –ö–∞—Ç–∞–ª–æ–≥ > üì¶üì¶üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–æ–≤ > –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è
                      </div>
                      <div>–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ö–ª–µ–±–Ω—ã–º–∏ –∫—Ä–æ—à–∫–∞–º–∏.</div>
                    </div>
                  </div>
                {% elif key == "–§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞" or key == "–õ–æ–≥–æ—Ç–∏–ø" or key == "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è" %}
                  <div class="google-snippet text-center">
                    <div class="py-3">
                      <i class="bi bi-info-circle text-muted me-2"></i>
                      <span class="text-muted">–≠—Ç–æ—Ç —Ç–∏–ø –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–æ–∏—Å–∫–æ–≤–æ–π –≤—ã–¥–∞—á–µ</span>
                    </div>
                  </div>
                {% else %}
                  <div class="google-snippet">
                    <div class="snippet-title text-primary fw-bold">{{ domain }}</div>
                    <div class="snippet-url text-success small mb-1">{{ url }}</div>
                    <div class="snippet-description text-dark small">
                      –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–ª—è —Ç–∏–ø–∞ "{{ key }}" –ø–æ–º–æ–∂–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ—Ç —Ç–∏–ø –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞...
                    </div>
                  </div>
                {% endif %}
                <div class="snippet-notice text-center text-muted small mt-2">
                  <i class="bi bi-info-circle me-1"></i>–≠—Ç–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π –≤–∏–¥ —Å–Ω–∏–ø–ø–µ—Ç–∞. –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.
                </div>
              </div>
            </div>
            
            <div class="p-3 bg-light border-top">
              <p class="mb-0 small">
                <i class="bi bi-info-circle me-1"></i>
                –≠—Ç–∞ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∞–π—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–µ–±-–ø–æ–∏—Å–∫–∞ OpenAI.
              </p>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  
  <div class="action-buttons">
    <a href="/" class="btn btn-primary">
      <i class="bi bi-arrow-left me-2"></i>–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥
    </a>
    <a href="https://search.google.com/test/rich-results" target="_blank" class="btn btn-success">
      <i class="bi bi-google me-2"></i>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Google
    </a>
    <a href="https://validator.schema.org/" target="_blank" class="btn btn-info">
      <i class="bi bi-check-circle me-2"></i>–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å Schema.org
    </a>
  </div>
  
  <div class="text-center mt-4">
    <small class="text-muted">
      <strong>iSEO Schema Generator</strong> ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è SEO-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
    </small>
  </div>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre code').forEach((block) => {
      hljs.highlightBlock(block);
    });
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤
    initializeSnippetPreview();
    
    // –ü–æ–ª—É—á–∞–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–º–µ–Ω –∏–∑ URL
    const actualDomain = "{{ domain }}";
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤, –∑–∞–º–µ–Ω—è—è localhost –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–º–µ–Ω
    document.querySelectorAll('.snippet-title').forEach(title => {
      if (title.textContent.includes('localhost')) {
        title.textContent = title.textContent.replace('localhost', actualDomain);
      }
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ URL –≤ —Å–Ω–∏–ø–ø–µ—Ç–∞—Ö
    document.querySelectorAll('.snippet-url').forEach(urlEl => {
      if (urlEl.textContent.includes('localhost')) {
        urlEl.textContent = "{{ url }}";
      }
    });
  });
  
  // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
  document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', function() {
      const codeId = this.getAttribute('data-code-id');
      const codeElement = document.getElementById(codeId);
      const codeText = codeElement.textContent;
      
      navigator.clipboard.writeText(codeText).then(() => {
        // –ò–∑–º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ –≤—Ä–µ–º—è
        const originalHTML = this.innerHTML;
        this.innerHTML = '<i class="bi bi-check"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        
        setTimeout(() => {
          this.innerHTML = originalHTML;
        }, 2000);
      }).catch(err => {
        console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
        const originalHTML = this.innerHTML;
        this.innerHTML = '<i class="bi bi-exclamation-triangle"></i> –û—à–∏–±–∫–∞';
        
        setTimeout(() => {
          this.innerHTML = originalHTML;
        }, 2000);
      });
    });
  });
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤
  function initializeSnippetPreview() {
    document.querySelectorAll('pre code').forEach((codeBlock, index) => {
      const snippetContainer = document.getElementById(`snippet${index + 1}`);
      if (!snippetContainer) return;
      
      try {
        // –ò–∑–≤–ª–µ–∫–∞–µ–º JSON-LD –∏–∑ –∫–æ–¥–∞
        const codeText = codeBlock.textContent;
        const jsonMatch = codeText.match(/<script type="application\/ld\+json">([\s\S]*?)<\/script>/);
        
        if (jsonMatch && jsonMatch[1]) {
          const jsonData = JSON.parse(jsonMatch[1].trim());
          
          // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏
          updateSnippetPreview(snippetContainer, jsonData);
        }
      } catch (e) {
        console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫—É:', e);
      }
    });
  }
  
  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–Ω–∏–ø–ø–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
  function updateSnippetPreview(container, jsonData) {
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏
    const type = jsonData['@type'];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ—Ç —Ç–∏–ø —Ç–µ–º, —á—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–Ω–∏–ø–ø–µ—Ç–µ
    const nonVisibleTypes = ['Organization', 'WebSite', 'ImageObject'];
    if (nonVisibleTypes.includes(type)) {
      // –î–ª—è —Ç–∞–∫–∏—Ö —Ç–∏–ø–æ–≤ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä, —Ç.–∫. –æ–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤—ã–¥–∞—á–µ
      return;
    }
    
    // –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    const titleEl = container.querySelector('.snippet-title');
    const urlEl = container.querySelector('.snippet-url');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
    if (titleEl && jsonData.name) {
      titleEl.textContent = jsonData.name;
    }
    
    if (urlEl && jsonData.url) {
      urlEl.textContent = jsonData.url;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
    switch (type) {
      case 'LocalBusiness':
        updateLocalBusinessPreview(container, jsonData);
        break;
      case 'Product':
        updateProductPreview(container, jsonData);
        break;
      case 'CollectionPage':
        updateCollectionPreview(container, jsonData);
        break;
      case 'FAQPage':
        updateFAQPreview(container, jsonData);
        break;
      case 'QAPage':
        updateQAPreview(container, jsonData);
        break;
      case 'BreadcrumbList':
        updateBreadcrumbsPreview(container, jsonData);
        break;
    }
  }
  
  // –§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
  function updateLocalBusinessPreview(container, data) {
    const addressEl = container.querySelector('.snippet-address');
    const phoneEl = container.querySelector('.snippet-phone');
    const hoursEl = container.querySelector('.snippet-hours');
    
    if (addressEl && data.address) {
      addressEl.textContent = [
        data.address.addressLocality, 
        data.address.streetAddress
      ].filter(Boolean).join(', ');
    }
    
    if (phoneEl && data.telephone) {
      phoneEl.textContent = data.telephone;
    }
    
    if (hoursEl && data.openingHours) {
      hoursEl.textContent = data.openingHours;
    }
  }
  
  function updateProductPreview(container, data) {
    const ratingEl = container.querySelector('.snippet-reviews');
    const priceEl = container.querySelector('.snippet-price');
    
    if (priceEl && data.offers && data.offers.price) {
      const price = data.offers.price;
      const currency = data.offers.priceCurrency || 'RUB';
      const currencySymbol = currency === 'RUB' ? '‚ÇΩ' : currency;
      
      priceEl.textContent = `${formatPrice(price)} ${currencySymbol}`;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
  }
  
  function updateCollectionPreview(container, data) {
    const lowPriceEl = container.querySelector('.fw-bold');
    
    if (lowPriceEl && data.mainEntity && data.mainEntity.offers) {
      const offers = data.mainEntity.offers;
      if (offers.lowPrice && offers.highPrice) {
        const currency = offers.priceCurrency || 'RUB';
        const currencySymbol = currency === 'RUB' ? '‚ÇΩ' : currency;
        
        lowPriceEl.textContent = `–æ—Ç ${formatPrice(offers.lowPrice)}${currencySymbol} –¥–æ ${formatPrice(offers.highPrice)}${currencySymbol}`;
      }
    }
  }
  
  function updateFAQPreview(container, data) {
    const faqContainer = container.querySelector('.snippet-faq');
    
    if (faqContainer && data.mainEntity && Array.isArray(data.mainEntity)) {
      faqContainer.innerHTML = '';
      
      // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–µ 2 –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
      const questions = data.mainEntity.slice(0, 2);
      
      questions.forEach((q, index) => {
        const faqItem = document.createElement('div');
        faqItem.className = 'faq-item' + (index < questions.length - 1 ? ' mb-2' : '');
        
        const question = document.createElement('div');
        question.className = 'fw-bold';
        question.textContent = q.name;
        
        const answer = document.createElement('div');
        answer.textContent = q.acceptedAnswer.text.length > 60 
          ? q.acceptedAnswer.text.substring(0, 60) + '...' 
          : q.acceptedAnswer.text;
        
        faqItem.appendChild(question);
        faqItem.appendChild(answer);
        faqContainer.appendChild(faqItem);
      });
    }
  }
  
  function updateQAPreview(container, data) {
    if (data.mainEntity) {
      const questionEl = container.querySelector('.fw-bold');
      const answerEl = container.querySelector('.mb-1:not(.fw-bold)');
      const upvotesEl = container.querySelector('.text-secondary');
      
      if (questionEl && data.mainEntity.name) {
        questionEl.textContent = data.mainEntity.name;
      }
      
      if (answerEl && data.mainEntity.acceptedAnswer && data.mainEntity.acceptedAnswer.text) {
        answerEl.textContent = data.mainEntity.acceptedAnswer.text;
      }
      
      if (upvotesEl) {
        let upvoteText = '';
        if (data.mainEntity.upvoteCount) {
          upvoteText = `${data.mainEntity.upvoteCount} —á–µ–ª–æ–≤–µ–∫ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–º`;
        } else if (data.mainEntity.acceptedAnswer && data.mainEntity.acceptedAnswer.upvoteCount) {
          upvoteText = `${data.mainEntity.acceptedAnswer.upvoteCount} —á–µ–ª–æ–≤–µ–∫ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–º`;
        } else {
          upvoteText = `25 —á–µ–ª–æ–≤–µ–∫ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–º`;
        }
        upvotesEl.textContent = upvoteText;
      }
    }
  }
  
  function updateBreadcrumbsPreview(container, data) {
    const breadcrumbsEl = container.querySelector('.breadcrumbs');
    
    if (breadcrumbsEl && data.itemListElement && Array.isArray(data.itemListElement)) {
      const breadcrumbs = data.itemListElement.map(item => item.name).join(' > ');
      breadcrumbsEl.textContent = breadcrumbs;
    }
  }
  
  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—ã
  function formatPrice(price) {
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —á–∏—Å–ª–æ –±–µ–∑ –≤–∞–ª—é—Ç—ã, —É–±–∏—Ä–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –≤ –∫–æ–Ω—Ü–µ
    return parseFloat(price).toLocaleString('ru-RU').trim();
  }
</script>
</body>
</html>